---
interface Props {
  date: string | Date;
  format?: "default" | "long";
}

const { date, format = "default" } = Astro.props;

const dateObj = typeof date === "string" ? new Date(date) : date;

const options: Intl.DateTimeFormatOptions =
  format === "long"
    ? { day: "2-digit", month: "short", year: "numeric" }
    : { year: "numeric", month: "2-digit", day: "2-digit" };
---

<time datetime={dateObj.toISOString()}>
  {dateObj.toLocaleDateString("en-CA", options)}
</time>
